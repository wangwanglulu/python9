<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lecture 9</title>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="css/theme/custom.css">
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/googlecode.css">
    <!-- Printing and PDF exports -->
    <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal" style="background-color: #fff;">
        <div class="slides">
            <section data-background-video="bgm.mp4" data-background-video-loop data-background-video-muted style="text-align: left;">
                <h2 style="color: white">Python Programming</h2>
                <h5 style="color: white">Lecture 9 Advanced OOP (1)</h5>
            </section>
            <section>
                <section data-background="#2980b9" style="color: white">
                    <h2 style="color: white">9.1 Inheritance</h2>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>You don't always have to start from scratch when writing a class. If the class you're writing is a specialized version of another class you wrote, you can use <b>inheritance</b>.</p>
                        </li>
                        <li class="fragment">
                            <p>When one class inherits from another, it automatically takes on all the attributes and methods of the first class.</p>
                        </li>
                        <li class="fragment">
                            <p>The original class is called the parent class, and the new class is the child class. The child class inherits every attribute and method from its parent class but is also free to define new attributes and methods of its own.</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <div class="fragment"><img data-src="car.png" style="height: 400pt"></div>
                </section>
                <section>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Car():
    def __init__(self, make, model, year):
        self.make = make
        self.model = model
        self.year = year
        self.odometer_reading = 0
    def get_descriptive_name(self):
        long_name = str(self.year) + ' ' 
        + self.make + ' ' + self.model
        return long_name.title()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class ElectricCar(Car):
    def __init__(self, make, model, year):
        super().__init__(make, model, year)
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
my_tesla = ElectricCar('tesla', 'model s', 2016)
print(my_tesla.get_descriptive_name())
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
2016 Tesla Model S
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Defining attributes and methods for the child class</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class ElectricCar(Car):
    def __init__(self, make, model, year):
        super().__init__(make, model, year)
        self.battery_size = 70
    def describe_battery(self):
        print(str(self.battery_size) + "-kWh battery.")
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
my_tesla = ElectricCar('tesla', 'model s', 2016)
print(my_tesla.get_descriptive_name())
my_tesla.describe_battery()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
2016 Tesla Model S
70-kWh battery.
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Overriding methods from the parent class</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class ElectricCar(Car):
    def __init__(self, make, model, year):
        super().__init__(make, model, year)
        self.battery_size = 70
    def describe_battery(self):
        print("This car has a " + str(self.battery_size) + "-kWh battery.")

    def get_descriptive_name(self):
        long_name = str(self.year) + ' ' 
        + self.make
        return long_name.title()
</code></pre>
                    </div>
                    <ul>
                        <li class="fragment">
                            <p>Now if someone tries to call get_descriptive_name() with an electric car, Python will ignore the method get_descriptive_name() in Car and run this code instead.</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Instances as attributes</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Battery():
    def __init__(self, battery_size=70):
        self.battery_size = battery_size
    def describe_battery(self):
        print("This car has a " + str(self.battery_size) + "-kWh battery.")

class ElectricCar(Car):
    def __init__(self, make, model, year):
        super().__init__(make, model, year)
        self.battery = Battery()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
my_tesla = ElectricCar('tesla', 'model s', 2016)
my_tesla.battery.describe_battery()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
This car has a 70-kWh battery.
</code></pre>
                    </div>
                </section>
            </section>
            <section>
                <section data-background="#2980b9" style="color: white">
                    <h2 style="color: white">9.2 Importing Classes</h2>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Importing a Single Class</p>
                        </li>
                        <li class="fragment">
                            <p>Save your Car class in a python file: car.py</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
from car import Car

my_new_car = Car('audi', 'a4', 2016)
print(my_new_car.get_descriptive_name())

my_new_car.odometer_reading = 23
my_new_car.read_odometer()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
2016 Audi A4
This car has 23 miles on it.
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Storing Multiple Classes in a Module</p>
                        </li>
                        <li class="fragment">
                            <p>You can store as many classes as you need in a single module, although each class in a module should be related somehow. The classes <b>Battery </b>and <b>ElectricCar</b> both help represent cars, so let's add them to the module <b>car.py</b></p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
from car import ElectricCar

my_tesla = ElectricCar('tesla', 'model s', 2016)

print(my_tesla.get_descriptive_name())
my_tesla.battery.describe_battery()
my_tesla.battery.get_range()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
2016 Tesla Model S
This car has a 70-kWh battery.
This car can go approximately 240 miles on a full charge.
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Importing Multiple Classes from a Module</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
from car import Car, ElectricCar

my_beetle = Car('volkswagen', 'beetle', 2016)
    print(my_beetle.get_descriptive_name())

my_tesla = ElectricCar('tesla', 'roadster', 2016)
    print(my_tesla.get_descriptive_name())
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
2016 Volkswagen Beetle
2016 Tesla Roadster
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Importing a Module into a Module</p>
                        </li>
                        <li class="fragment">
                            <p>car.py</p>
                        </li>
                        <div class="fragment">
                            <pre><code class="line-numbers" data-trim contenteditable>
class Car():
...
</code></pre>
                        </div>
                        <li class="fragment">
                            <p>electric_car.py</p>
                        </li>
                        <div class="fragment">
                            <pre><code class="line-numbers" data-trim contenteditable>
from car import Car

class Battery():
...

class ElectricCar(Car):
...
</code></pre>
                        </div>
                        <li class="fragment">
                            <p>my_cars.py</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
from car import Car
from electric_car import ElectricCar
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Using code two ways</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self, name, job=None, pay=0):
        self.name = name
        self.job = job
        self.pay = pay
#test
bob = Person('Bob Smith') 
sue = Person('Sue Jones', job='dev', pay=100000) 
print(bob.name, bob.pay) 
print(sue.name, sue.pay) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self, name, job=None, pay=0):
        self.name = name
        self.job = job
        self.pay = pay

if __name__ == '__main__': 
    # self-test code
    bob = Person('Bob Smith')
    sue = Person('Sue Jones', job='dev', pay=100000)
    print(bob.name, bob.pay)
    print(sue.name, sue.pay)
</code></pre>
                    </div>
                </section>
            </section>
            <section>
                <section data-background="#2980b9" style="color: white">
                    <h2 style="color: white">9.3 3 ways of inheritance</h2>
                </section>
                <section>
                    <ul>
                        <li>We have learned a way to inherit, i.e., super(). There are other two ways.</li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name,sex):
        self.name = name
        self.sex = sex
        
    def print_title(self):
        if self.sex == "male":
            print("man")
        elif self.sex == "female":
            print("woman")

class Child(Person):                            
    pass #It does not do anything, but avoid error.
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
if __name__ == '__main__':             
    May = Child("May","female")
    Peter = Person("Peter","male")

    print(May.name,May.sex,Peter.name,Peter.sex)    
    May.print_title()
    Peter.print_title()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May female Peter male
woman
man
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Check</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    pass

class Child(Person):                 
    pass

May = Child()
Peter = Person()    

print(isinstance(May,Child))         # True
print(isinstance(May,Person))        # True
print(isinstance(Peter,Child))       # False
print(isinstance(Peter,Person))      # True
print(issubclass(Child,Person))      # True
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>polymorphism</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name,sex):
        self.name = name
        self.sex = sex
        
    def print_title(self):
        if self.sex == "male":
            print("man")
        elif self.sex == "female":
            print("woman")

class Child(Person):              
    def print_title(self):
        if self.sex == "male":
            print("boy")
        elif self.sex == "female":
            print("girl")
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
if __name__ == '__main__':        
    May = Child("May","female")
    Peter = Person("Peter","male")

    print(May.name,May.sex,Peter.name,Peter.sex)
    May.print_title()
    Peter.print_title()
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May female Peter male
girl
man
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p><b>Open/closed principle</b></p>
                        </li>
                        <li class="fragment">
                            <p>Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.</p>
                        </li>
                    </ul>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Class Constructor</p>
                        </li>
                    </ul>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name,sex):
        self.name = name
        self.sex = sex

class Child(Person):                
    def __init__(self,name,sex,mother,father):
        self.name = name
        self.sex = sex
        self.mother = mother
        self.father = father

May = Child("May","female","April","June")
print(May.name,May.sex,May.mother,May.father)    
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May female April June   
</code></pre>
                    </div>
                </section>
                <section>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name,sex):
        self.name = name
        self.sex = sex

class Child(Person):                          
    def __init__(self,name,sex,mother,father):
        Person.__init__(self,name,sex)    
        self.mother = mother
        self.father = father

May = Child("May","female","April","June")
print(May.name,May.sex,May.mother,May.father)
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May female April June
</code></pre>
                    </div>
                </section>
                <section>
                    <p><b>Super(), Common Inheritance, and w/o __init__</b></p>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name        
class Child(Person):                            
    pass #w/o __init__
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May Peter
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name
        print(self.name) #add a print here        
class Child(Person):                            
    pass #w/o __init__
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May
Peter
May Peter
</code></pre>
                    </div>
                </section>
                <section>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name
        print(self.name) #add a print here       
class Child(Person): 
    def __init__(self,name):                           
        self.name = name 
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
Peter
May Peter
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name
        print(self.name) #add a print here        
class Child(Person): 
    def __init__(self,name):                           
        self.name = name 
        print(self.name)
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May
Peter
May Peter
</code></pre>
                    </div>
                </section>
                <section>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name
        print(self.name) #add a print here        
class Child(Person): 
    def __init__(self,name):                           
        super().__init__(name) 
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May
Peter
May Peter
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name
        print(self.name) #add a print here       
class Child(Person): 
    def __init__(self,name):                           
        Person.__init__(self, name)
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May
Peter
May Peter
</code></pre>
                    </div>
                </section>
                <section>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
class Person:
    def __init__(self,name):
        self.name = name
        print(self.name) #add a print here       
class Child(Person): 
    def __init__(self,name):                           
        super().__init__(name) 
        #or Person.__init__(self,name)
        print(self.name)
if __name__ == '__main__':             
    May = Child("May")
    Peter = Person("Peter")
    print(May.name,Peter.name) 
</code></pre>
                    </div>
                    <div class="fragment">
                        <pre><code class="line-numbers" data-trim contenteditable>
May
May
Peter
May Peter
</code></pre>
                    </div>
                </section>
                <section>
                    <ul>
                        <li class="fragment">
                            <p>Person. and super(). are almost the same <b>for the single inheritance with or without modification</b>. Do not mix them together!</p>
                        </li>
                        <li class="fragment">
                            <p>If you just need completely inheritance of the attributes, then all three ways are equivalent.</p>
                        </li>
                        <li class="fragment">
                            <p>Without Person. super(), __init__ in the child class overwrites the __init__ in the parent class.</p>
                        </li>
                        <li class="fragment">
                            <p>You would better use Person. or super() to inherit or extend the method of the parent class.</p>
                        </li>
                        <li class="fragment">
                            <p>There is no so-called, "new-style-and-classic-classes" (新式类，经典类) in Python 3.x.</p>
                        </li>
                    </ul>
                </section>
            </section>
            <section>
                <section data-background="#2c3e50" style="color: white; text-align: left;">
                    <h2 style="color: white">Summary</h2>
                    <ul>
                        <li>OOP</li>
                        <ul>
                            <li>Reading: Python Crash Course, Chapter 9</li>
                        </ul>
                    </ul>
                </section>
            </section>
        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 960,
        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.2,
        maxScale: 1.5,

        // Display controls in the bottom right corner
        controls: true,

        // Display a presentation progress bar
        progress: true,

        // Set default timing of 2 minutes per slide
        defaultTiming: 120,

        // Display the page number of the current slide
        slideNumber: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autolaying embedded media (video/audio/iframe)
        // - null: Media will only autoplay if data-autoplay is present
        // - true: All media will autoplay, regardless of individual setting
        // - false: No media will autoplay, regardless of individual setting
        autoPlayMedia: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: Reveal.navigateNext,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // Hides the address bar on mobile devices
        hideAddressBar: true,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Transition speed
        transitionSpeed: 'default', // default/fast/slow

        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Parallax background image
        parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

        // Parallax background size
        parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

        // Number of pixels to move the parallax background per slide
        // - Calculated automatically unless specified
        // - Set to 0 to disable movement along an axis
        parallaxBackgroundHorizontal: null,
        parallaxBackgroundVertical: null,

        // The display mode that will be used to show slides
        display: 'block',

        dependencies: [
            { src: 'plugin/markdown/marked.js' },
            { src: 'plugin/markdown/markdown.js' },
            { src: 'plugin/notes/notes.js', async: true },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            // Zoom in and out with Alt+click
            { src: 'plugin/zoom-js/zoom.js', async: true },

            // Speaker notes
            { src: 'plugin/notes/notes.js', async: true },

            // MathJax
            { src: 'plugin/math/math.js', async: true },
            { src: 'plugin/line-numbers/line-numbers.js' }
        ]
    });
    </script>
</body>

</html>